<%- serviceWorkerHelper %>;

const REQUIRED_ASSETS = [
  {url: '/shell.html', revision: '1'},
  <%_ const cssPath = assetPath("app.css") _%>
  <%_ if(cssPath) { _%>
  "<%= cssPath %>",
  <%_ } _%>
  "<%= assetPath("app.js") %>",
  "<%= assetPath("pw_maze_white.png") %>",
  "<%= assetPath("gears.svg") %>",
];

const workbox = initializeQServiceWorker(self, {
  routes: <%- JSON.stringify(routes) %>,
  assets: REQUIRED_ASSETS,
  hostname: <%- JSON.stringify(hostname) %>
});

workbox.router.registerRoute('/route-data.json', workbox.strategies.networkFirst());